<!DOCTYPE html>
<html>
<head>
    <title>Mini Widget</title>
    <script src="wapi/widget_api.js"></script>
    <link type="text/css" rel="stylesheet" href="status.css">
    <style>
        #timer {
            position: absolute;
            top: 260px;
            text-align: center;
            font-size: 36px;
            margin: 20px;
            border: 1px solid blue;
            margin-top: 30px;
        }

        #eventdiv {
            border: 2px solid red;
            font-size: 16px;
            font-family: Consolas, sans-serif;

        }

        #area {
            position: absolute;
            top: 60px;;
            border: 2px solid red;
            background: yellow;
            width: 400px;
            height: 160px;
            margin-top: 30px;
            margin-bottom: 30px;
        }
    </style>

</head>
<body>
<div id="source">src</div>
<div id="status">No status</div>
<div id="focus_status"></div>
<div id="area">
    <div>This area sucks up click &amp; mouseMove events (e.g calls preventDefault
        on the click &amp; mouseMove).
    </div>
    <div>Click profile to start 15 seconds of profiling for event
        propagation.
        <input type="button" id="button" name="Button" value="Profile">
    </div>
    <input type="text" id="text" name="Text" value="text">
</div>

<div id="timer"></div>

<script src="support/timer.js"></script>
<script src="support/pause.js"></script>
<script src="support/focus.js"></script>
<script>
    var eventCounter = 0;

    /******* DIV.#AREA ***********/
    var area = document.getElementById("area");
    area.addEventListener("click", function (e) {
        e.preventDefault();
    }, false);


    area.addEventListener("mousemove", function (e) {
        e.preventDefault();
    }, false);


    area.addEventListener("touchmove", function (e) {
        e.preventDefault();
    }, false);
	

    /******* BUTTON ***********/
    var button = document.getElementById("button");
    button.addEventListener("click", function (e) {
        window.console.log("button capture");
        e.preventDefault();
        wapi.publish("profile", { foo: "bar" });
    }, true);


    /******* TEXT ***********/
    var text = document.getElementById("text");

    text.addEventListener("keyup", function (e) {
        window.console.log("text bubble");
        e.preventDefault();
    }, false);

</script>
<script src="wapi/publishEvents.js"></script>
</body>
</html>
